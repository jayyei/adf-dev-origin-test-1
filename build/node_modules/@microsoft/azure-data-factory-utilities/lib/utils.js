"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function printToConsole(message) {
    // eslint-disable-next-line no-console
    console.log(message);
}
exports.printToConsole = printToConsole;
function processArguments(program) {
    var args = processArgumentsInternal(program);
    return args.map(function (a) { return escapeArgIfNeeded(a); });
}
exports.processArguments = processArguments;
function escapeArgIfNeeded(arg) {
    return arg.includes(' ') ? "\"" + arg + "\"" : arg;
}
exports.escapeArgIfNeeded = escapeArgIfNeeded;
function validateNodeVersion() {
    if (process.versions.node !== void 0) {
        var majorVersion = parseInt(process.versions.node.split('.')[0]);
        if (majorVersion < 14) {
            console.warn("##[warning]Using older node version: " + process.versions.node + ", use at least version 14 to avoid running into failures.");
        }
    }
}
exports.validateNodeVersion = validateNodeVersion;
function processArgumentsInternal(program) {
    var options = program.opts();
    var offset = 2;
    if (options.nodeoptions) {
        offset += 2;
    }
    if (options.url) {
        offset += 2;
    }
    if (options.preview) {
        offset += 1;
        printToConsole('Using preview options');
    }
    return process.argv.slice(offset);
}
